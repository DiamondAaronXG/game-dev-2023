<html>
<body>
<h6>version 0.0.9</h6>
<h1 align=center>t2a06-spy-by-aaron.html</h1>
<textarea id="myArea01" rows=4 cols=70>Hello how are you</textarea><br> 


<input type=button value="encrypt" onclick="{
   let myTemp = ''
   myString = document.getElementById('myArea01').value.toLowerCase().split('')
   for (let myLoop=0;   myLoop < myString.length; myLoop++){
      myTemp = myString[myLoop]
      if (myString[myLoop] == 'a') {myTemp  = 'h'} 
      if (myString[myLoop] == 'b') {myTemp  = 'i'} 
      if (myString[myLoop] == 'c') {myTemp  = 'j'} 
      if (myString[myLoop] == 'd') {myTemp  = 'k'} 
      if (myString[myLoop] == 'e') {myTemp  = 'l'} 
      if (myString[myLoop] == 'f') {myTemp  = 'm'}
      if (myString[myLoop] == 'g') {myTemp  = 'n'} 
      if (myString[myLoop] == 'h') {myTemp  = 'o'} 
      if (myString[myLoop] == 'i') {myTemp  = 'p'} 
      if (myString[myLoop] == 'j') {myTemp  = 'q'} 
      if (myString[myLoop] == 'k') {myTemp  = 'r'} 
      if (myString[myLoop] == 'l') {myTemp  = 's'} 
      if (myString[myLoop] == 'm') {myTemp  = 't'} 
      if (myString[myLoop] == 'n') {myTemp  = 'u'} 
      if (myString[myLoop] == 'o') {myTemp  = 'v'} 
      if (myString[myLoop] == 'p') {myTemp  = 'w'} 
      if (myString[myLoop] == 'q') {myTemp  = 'x'} 
      if (myString[myLoop] == 'r') {myTemp  = 'y'}
      if (myString[myLoop] == 's') {myTemp  = 'z'} 
      if (myString[myLoop] == 't') {myTemp  = 'a'} 
      if (myString[myLoop] == 'u') {myTemp  = 'b'} 
      if (myString[myLoop] == 'v') {myTemp  = 'c'} 
      if (myString[myLoop] == 'w') {myTemp  = 'd'} 
      if (myString[myLoop] == 'x') {myTemp  = 'e'}
      if (myString[myLoop] == 'y') {myTemp  = 'f'} 
      if (myString[myLoop] == 'z') {myTemp  = 'g'}
      myString[myLoop] = myTemp
   }
   document.getElementById('myArea02').value = myString.join('')
}"><br><br>



<textarea id="myArea02" rows=4 cols=70></textarea><br> 

<input type=button value="decrypt" onclick="{
   let myTemp = ''
   myString = document.getElementById('myArea02').value.toLowerCase().split('')
   for (let myLoop=0;   myLoop < myString.length; myLoop++){
      myTemp = myString[myLoop]
      if (myString[myLoop] == 'h') {myTemp  = 'a'} 
      if (myString[myLoop] == 'i') {myTemp  = 'b'} 
      if (myString[myLoop] == 'j') {myTemp  = 'c'} 
      if (myString[myLoop] == 'k') {myTemp  = 'd'} 
      if (myString[myLoop] == 'l') {myTemp  = 'e'} 
      if (myString[myLoop] == 'm') {myTemp  = 'f'}
      if (myString[myLoop] == 'n') {myTemp  = 'g'} 
      if (myString[myLoop] == 'o') {myTemp  = 'h'} 
      if (myString[myLoop] == 'p') {myTemp  = 'i'} 
      if (myString[myLoop] == 'q') {myTemp  = 'j'} 
      if (myString[myLoop] == 'r') {myTemp  = 'k'} 
      if (myString[myLoop] == 's') {myTemp  = 'l'} 
      if (myString[myLoop] == 't') {myTemp  = 'm'} 
      if (myString[myLoop] == 'u') {myTemp  = 'n'} 
      if (myString[myLoop] == 'v') {myTemp  = 'o'} 
      if (myString[myLoop] == 'w') {myTemp  = 'p'} 
      if (myString[myLoop] == 'x') {myTemp  = 'q'} 
      if (myString[myLoop] == 'y') {myTemp  = 'r'}
      if (myString[myLoop] == 'z') {myTemp  = 's'} 
      if (myString[myLoop] == 'a') {myTemp  = 't'} 
      if (myString[myLoop] == 'b') {myTemp  = 'u'} 
      if (myString[myLoop] == 'c') {myTemp  = 'v'} 
      if (myString[myLoop] == 'd') {myTemp  = 'w'} 
      if (myString[myLoop] == 'e') {myTemp  = 'x'}
      if (myString[myLoop] == 'f') {myTemp  = 'y'} 
      if (myString[myLoop] == 'g') {myTemp  = 'z'}
      myString[myLoop] = myTemp
   }
   document.getElementById('myArea03').value = myString.join('')
}"><br><br>


<textarea id="myArea03" rows=4 cols=70></textarea>
<br><br><br><br>
    
    <h1>256 Bit Message Encryption</h1>
    <label for="message">Enter Message:</label>
    <input type="text" id="message" />
    <br /><br />
    <button onclick="encryptMessage()">Encrypt</button>
    <br /><br />
    <label for="encrypted">Encrypted Message:</label>
    <input type="text" id="encrypted" />
    <br /><br />
    <label for="decrypted">Decrypted Message:</label>
    <input type="text" id="decrypted" />
    <br /><br />
    <button onclick="decryptMessage()">Decrypt</button>
    <script>
      let key;

      async function encryptMessage() {
        const message = document.getElementById("message").value;
        key = await window.crypto.subtle.generateKey(
          { name: "AES-GCM", length: 256 },
          true,
          ["encrypt", "decrypt"]
        );
        const encodedMessage = new TextEncoder().encode(message);
        const encryptedMessage = await window.crypto.subtle.encrypt(
          { name: "AES-GCM", iv: window.crypto.getRandomValues(new Uint8Array(12)) },
          key,
          encodedMessage
        );
        const encryptedArray = Array.from(new Uint8Array(encryptedMessage));
        const encryptedHex = encryptedArray.map(b => ("00" + b.toString(16)).slice(-2)).join("");
        document.getElementById("encrypted").value = encryptedHex;
      }

      async function decryptMessage() {
        const encryptedHex = document.getElementById("encrypted").value;
        const encryptedArray = new Uint8Array(
          encryptedHex.match(/.{1,2}/g).map(byte => parseInt(byte, 16))
        );
        const decryptedArray = await window.crypto.subtle.decrypt(
          { name: "AES-GCM", iv: encryptedArray.slice(0, 12) },
          key,
          encryptedArray.slice(12)
        );
        const decryptedMessage = new TextDecoder().decode(decryptedArray);
        document.getElementById("decrypted").value = decryptedMessage;
      }
    </script>
</body>
</html>
    
